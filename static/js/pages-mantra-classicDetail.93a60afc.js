(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-mantra-classicDetail"],{"0f3a":function(t,i,a){"use strict";a.r(i);var e=a("f210"),n=a("8b01");for(var s in n)"default"!==s&&function(t){a.d(i,t,function(){return n[t]})}(s);a("ea70");var o,r=a("f0c5"),c=Object(r["a"])(n["default"],e["b"],e["c"],!1,null,"37c2b702",null,!1,e["a"],o);i["default"]=c.exports},"17d2":function(t,i,a){i=t.exports=a("2350")(!1),i.push([t.i,'@charset "UTF-8";\n/**\r\n * 这里是uni-app内置的常用样式变量\r\n *\r\n * uni-app 官方扩展插件及插件市场（https://ext.dcloud.net.cn）上很多三方插件均使用了这些样式变量\r\n * 如果你是插件开发者，建议你使用scss预处理，并在插件代码中直接使用这些变量（无需 import 这个文件），方便用户通过搭积木的方式开发整体风格一致的App\r\n *\r\n */\n/**\r\n * 如果你是App开发者（插件使用者），你可以通过修改这些变量来定制自己的插件主题，实现自定义主题功能\r\n *\r\n * 如果你的项目同样使用了scss预处理，你也可以直接在你的 scss 代码中使用如下变量，同时无需 import 这个文件\r\n */\n/* 颜色变量 */\n/* 行为相关颜色 */\n/* 文字基本颜色 */\n/* 背景颜色 */\n/* 边框颜色 */\n/* 尺寸变量 */\n/* 文字尺寸 */\n/* 图片尺寸 */\n/* Border Radius */\n/* 水平间距 */\n/* 垂直间距 */\n/* 透明度 */\n/* 文章场景相关 */.fullguide[data-v-a6f0b586]{position:fixed;top:0;left:0;width:100%;height:100%;text-align:center;z-index:2000}.fullguide-arrow[data-v-a6f0b586]{position:absolute;top:%?24?%;right:%?66?%;background:url(https://mhd.hanyujingyun.cn/images/guid.png) no-repeat;width:%?130?%;height:%?234?%;background-size:%?130?% %?234?%}.fullguide-inner[data-v-a6f0b586]{margin:0 auto;width:320px;padding-top:48px}.fullguide-inner--for-share[data-v-a6f0b586]{padding-top:140px;color:#fff}.fullguide-share-one[data-v-a6f0b586]{font-size:20px;font-weight:500}.fullguide-share-two[data-v-a6f0b586]{font-size:14px}',""])},"1c60":function(t,i,a){"use strict";a.r(i);var e=a("b233"),n=a.n(e);for(var s in e)"default"!==s&&function(t){a.d(i,t,function(){return e[t]})}(s);i["default"]=n.a},2085:function(t,i,a){i=t.exports=a("2350")(!1),i.push([t.i,".classicDetail .classicInfo .mantraDetail[data-v-37c2b702]{height:100vh}.classicDetail .bottomBar[data-v-37c2b702]{bottom:0}",""])},"2ebc":function(t,i,a){"use strict";var e,n=function(){var t=this,i=t.$createElement,a=t._self._c||i;return a("v-uni-view",{directives:[{name:"show",rawName:"v-show",value:t.isShowAppGuid,expression:"isShowAppGuid"}],staticClass:"fullguide mark-bg",on:{click:function(i){arguments[0]=i=t.$handleEvent(i),t.hideGuid.apply(void 0,arguments)}}},[a("i",{staticClass:"fullguide-arrow"}),a("v-uni-view",{staticClass:"fullguide-inner fullguide-inner--for-share"},[a("v-uni-view",{staticClass:"fullguide-share"},[a("p",{staticClass:"fullguide-share-one"},[t._v("请在浏览器打开")]),a("p",{staticClass:"fullguide-share-two"},[t._v("点击屏幕右上角选择在浏览器打开")])])],1)],1)},s=[];a.d(i,"b",function(){return n}),a.d(i,"c",function(){return s}),a.d(i,"a",function(){return e})},"31d4":function(t,i,a){"use strict";a.r(i);var e=a("683b"),n=a.n(e);for(var s in e)"default"!==s&&function(t){a.d(i,t,function(){return e[t]})}(s);i["default"]=n.a},"343d":function(t,i,a){var e=a("17d2");"string"===typeof e&&(e=[[t.i,e,""]]),e.locals&&(t.exports=e.locals);var n=a("4f06").default;n("af507a90",e,!0,{sourceMap:!1,shadowMode:!1})},"4e6f":function(t,i,a){"use strict";var e=a("343d"),n=a.n(e);n.a},"683b":function(t,i,a){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0;var e={data:function(){return{isPlay:!1,init:!1,isShowInfo:!1,d_curPlay:{},latestPlay:"",interval:""}},computed:{isShowAppGuid:function(){return this.$store.state.isShowAppGuid}},components:{},mounted:function(){},methods:{hideGuid:function(){this.$store.commit("setAppGuidShow",!1)}},watch:{}};i.default=e},"78ed":function(t,i,a){i=t.exports=a("2350")(!1),i.push([t.i,'@charset "UTF-8";\n/**\r\n * 这里是uni-app内置的常用样式变量\r\n *\r\n * uni-app 官方扩展插件及插件市场（https://ext.dcloud.net.cn）上很多三方插件均使用了这些样式变量\r\n * 如果你是插件开发者，建议你使用scss预处理，并在插件代码中直接使用这些变量（无需 import 这个文件），方便用户通过搭积木的方式开发整体风格一致的App\r\n *\r\n */\n/**\r\n * 如果你是App开发者（插件使用者），你可以通过修改这些变量来定制自己的插件主题，实现自定义主题功能\r\n *\r\n * 如果你的项目同样使用了scss预处理，你也可以直接在你的 scss 代码中使用如下变量，同时无需 import 这个文件\r\n */\n/* 颜色变量 */\n/* 行为相关颜色 */\n/* 文字基本颜色 */\n/* 背景颜色 */\n/* 边框颜色 */\n/* 尺寸变量 */\n/* 文字尺寸 */\n/* 图片尺寸 */\n/* Border Radius */\n/* 水平间距 */\n/* 垂直间距 */\n/* 透明度 */\n/* 文章场景相关 */.classicInfo[data-v-1c5ece90]{position:fixed;width:%?750?%;-webkit-transition:all .5s;transition:all .5s;-webkit-transform:translateX(%?2000?%);transform:translateX(%?2000?%);top:0;z-index:100}.classicInfo.show[data-v-1c5ece90]{-webkit-transform:translateX(%?0?%);transform:translateX(%?0?%);-webkit-transition:all .8s;transition:all .8s}.classicInfo .mantraDetail[data-v-1c5ece90]{overflow:auto;-webkit-overflow-scrolling:touch}.classicInfo .inner[data-v-1c5ece90]{position:relative;padding-bottom:%?100?%;border-radius:%?20?%;margin-top:%?-20?%;height:calc(100vh - %?750?%)}.classicInfo .inner .banana_all .banana[data-v-1c5ece90]{width:%?750?%;height:%?350?%}.classicInfo .inner .banana_all .banana uni-image[data-v-1c5ece90]{width:100%;height:100%}.classicInfo .inner .playIcon[data-v-1c5ece90]{width:%?98?%;height:%?98?%;position:absolute;top:%?-20?%;right:%?60?%;z-index:3}.classicInfo .inner .playIcon .action-icon[data-v-1c5ece90]{font-size:%?100?%;line-height:%?100?%}.classicInfo .inner .all_content[data-v-1c5ece90]{padding:%?20?% %?16?%;padding-bottom:%?80?%;min-height:calc(100vh - %?820?%)}.classicInfo .inner .all_content .mantra-info[data-v-1c5ece90]{width:%?715.9?%;border-radius:%?16?%;background:#fff}.classicInfo .inner .all_content .mantra-info.wsj[data-v-1c5ece90]{background-image:url(https://mhb.hanyujingyun.cn/images/infoBg.png)!important;background-size:cover!important}.classicInfo .inner .all_content .mantra-info .title[data-v-1c5ece90]{padding:%?6?% %?28?%;width:%?600?%}.classicInfo .inner .all_content .mantra-info .reader-info[data-v-1c5ece90]{padding:%?10?% %?28?%}.classicInfo .inner .all_content .mantra-info .reader-info uni-label[data-v-1c5ece90]{margin-right:%?30?%}.classicInfo .inner .all_content .mantra-info .intro[data-v-1c5ece90]{padding:0 %?28?%;-webkit-transition:all .8s;transition:all .8s;overflow:hidden;height:0;line-height:%?40?%}.classicInfo .inner .all_content .mantra-info .intro.show[data-v-1c5ece90]{height:auto;-webkit-transition:all .8s;transition:all .8s}.classicInfo .inner .all_content .mantra-info .extend[data-v-1c5ece90]{text-align:center;height:%?40?%}.classicInfo .inner .all_content .mantra-info .extend .action-icon[data-v-1c5ece90]{font-size:%?12?%}.classicInfo .inner .all_content .catalogue[data-v-1c5ece90]{width:%?715.9?%;height:%?88?%;margin-top:%?8?%}.classicInfo .inner .all_content .catalogue .catalogue_gx[data-v-1c5ece90]{padding:%?27.9?% %?32?%;max-width:%?590?%;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;float:left}.classicInfo .inner .all_content .catalogue .sort[data-v-1c5ece90]{float:right;margin-top:%?20?%;margin-right:%?36?%}.classicInfo .inner .all_content .catalogue .sort uni-image[data-v-1c5ece90]{width:%?18?%;height:%?10?%;margin-left:%?10?%}.classicDetail .classicInfo .mantraDetail[data-v-1c5ece90]{height:100vh}',""])},"8b01":function(t,i,a){"use strict";a.r(i);var e=a("c38f"),n=a.n(e);for(var s in e)"default"!==s&&function(t){a.d(i,t,function(){return e[t]})}(s);i["default"]=n.a},"954c":function(t,i,a){var e=a("2085");"string"===typeof e&&(e=[[t.i,e,""]]),e.locals&&(t.exports=e.locals);var n=a("4f06").default;n("8d8d984a",e,!0,{sourceMap:!1,shadowMode:!1})},a425:function(t,i,a){var e=a("78ed");"string"===typeof e&&(e=[[t.i,e,""]]),e.locals&&(t.exports=e.locals);var n=a("4f06").default;n("1656685d",e,!0,{sourceMap:!1,shadowMode:!1})},a93d:function(t,i,a){"use strict";a.r(i);var e=a("2ebc"),n=a("31d4");for(var s in n)"default"!==s&&function(t){a.d(i,t,function(){return n[t]})}(s);a("4e6f");var o,r=a("f0c5"),c=Object(r["a"])(n["default"],e["b"],e["c"],!1,null,"a6f0b586",null,!1,e["a"],o);i["default"]=c.exports},b233:function(t,i,a){"use strict";var e=a("288e");Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0;var n=e(a("246e")),s=e(a("75a7")),o=e(a("4771")),r=e(a("9c60")),c=e(a("1848")),l=a("2f01"),u={props:{isShowClose:{type:[String,Boolean]},theme:{type:String},from:{type:String}},inheritAttrs:!1,data:function(){return{curMantraList:[],isShowIntroduce:!1,isOrder:!1,mainImg:this.defaultClassicImg,showSkeleton:!0,isPlay:!1,firstInit:!0}},mounted:function(){var t=this;this.$refs.skeleton.attachedAction(),this.$refs.skeleton.readyAction(),setTimeout(function(){t.showSkeleton=!1},1e3)},computed:{initData:function(){return this.$store.state.curShowClassic||{}},curClassic:function(){return this.$store.state.curClassic||{}},isShow:function(){return this.$store.state.isShowMantraDetail},curPayAudio:function(){return this.$store.state.curPlayAudio||{}},isGloablePlay:function(){return this.$store.state.isGloablePlay},shareConfig:function(){return this.$store.state.shareConfig}},methods:{playAudio:function(t){var i={classicId:this.initData.id,chapterId:t.id};this.$store.commit("setCurClassic",this.initData),this.getAudio(i)},getAudio:function(t){var i=this;uni.request({url:this.APIURL+"/classic/classic/chapter/detail",method:"post",header:{SessionKey:uni.getStorageSync("session_key")},data:{classicId:t.classicId,chapterId:t.chapterId},success:function(t){var a=t.data,e=a.data;i.Audio.play(),i.isPlay=!0,i.$store.commit("setGloablePlay",!0),c.default.playAudio(i,e),i.$store.commit("setCurPlay",e),(0,l.updataShareConfig)(i,i.initData)}})},playControl:function(){if(this.isPlay=!this.isPlay,this.isPlay)if(this.agiConsole.log(this.initData),this.Audio.src&&this.curClassic.id==this.initData.id)this.Audio.play();else{var t={classicId:this.initData.id,chapterId:this.initData.position.chapterId||this.curMantraList[0].id};this.getAudio(t)}else this.Audio.pause()},showDetail:function(){this.isShowIntroduce=!this.isShowIntroduce},changeOrder:function(){this.isOrder=!this.isOrder,this.curMantraList.reverse()},onShare:function(){var t={title:this.initData.title+"详情",desc:this.initData.description||this.initData.title+"详情",link:window.location.origin+"/#/pages/mantra/classicDetail?curId="+this.initData.id+"&autoplay=true&app=true&back=off",imgUrl:this.initData.images&&this.initData.images.share2?this.initData.images.share2:this.defaultClassicImg,success:function(){}};return this.WX.updateAppMessageShareData(t),this.WX.updateTimelineShareData(t),t},goBack:function(){this.$store.commit("setIsShowMantraDetail",!1),"mantraDetail"==this.from&&window.location.href(window.location.origin)},showDockText:function(){if(this.curPayAudio.id){var t={classicId:this.curPayAudio.classicId,chapterId:this.curPayAudio.id};this.$store.commit("setIsShowDocText",!0),this.$store.commit("setDocTextData",t)}else uni.showToast({title:"请选择章节",image:this.defaultTaostImg})}},components:{chapterCard:s.default,bottomActionBar:n.default,playerHead:o.default,skeleton:r.default},watch:{initData:function(t){if(t.id){this.mainImg=t&&t.images?t.images.share2:this.defaultClassicImg,this.curMantraList=this.initData.chapters,this.curMantraList.reverse();var i=this.Audio.paused;if(i?this.isPlay=!1:this.curClassic.id==this.initData.id?this.isPlay=!0:this.isPlay=!1,this.initData.id!=this.curPayAudio.classicId){var a={classicId:this.initData.id,chapterId:this.initData.position.chapterId||this.curMantraList[this.curMantraList.length-1].id};this.$store.commit("setCurClassic",this.initData),this.getAudio(a)}var e=this.onShare();this.shareConfig.push(e),this.$store.commit("setShareConfig",this.shareConfig)}else this.curMantraList=[]},isShow:function(t){this.mainImg=this.initData&&this.initData.images?this.initData.images.share2:this.defaultClassicImg,t||(this.shareConfig.pop(),this.$store.commit("setShareConfig",this.shareConfig),(0,l.updataShareConfig)(this,this.initData))},isGloablePlay:function(t){this.curClassic.id==this.initData.id&&(this.Audio.paused&&setTimeout(function(){uni.showToast({title:"请手动点击播放！",image:"../../static/lihansongjingB.svg",duration:3e3})},2500),this.isPlay=!this.Audio.paused)}}};i.default=u},b699:function(t,i,a){"use strict";var e,n=function(){var t=this,i=t.$createElement,a=t._self._c||i;return a("v-uni-view",{staticClass:" classicInfo",class:t.isShow?"show":"",attrs:{id:"classicInfo"}},[t.showSkeleton?a("skeleton",{ref:"skeleton",attrs:{loading:"chiaroscuro",selector:"skeleton",bgcolor:"#FFF"}}):t._e(),a("v-uni-view",{staticClass:"mantraDetail page show skeleton"},[a("playerHead",{attrs:{mainImg:t.mainImg,isShowClose:t.isShowClose},on:{close:function(i){arguments[0]=i=t.$handleEvent(i),t.goBack.apply(void 0,arguments)},showDock:function(i){arguments[0]=i=t.$handleEvent(i),t.showDockText.apply(void 0,arguments)}}}),a("v-uni-view",{staticClass:"inner "},[a("v-uni-view",{staticClass:"playIcon",on:{click:function(i){arguments[0]=i=t.$handleEvent(i),t.playControl.apply(void 0,arguments)}}},[a("actionIcon",{staticClass:"action-icon",attrs:{iconClass:t.isPlay?"icon-playingIcon":"icon-playIconsm",extraClass:"assistant-text"}})],1),a("v-uni-view",{staticClass:"all_content bgclr"},[a("v-uni-view",{staticClass:"mantra-info foren-bg skeleton-rect",class:t.theme},[a("v-uni-view",{staticClass:"dark-text T3 title"},[t._v(t._s(t.initData.title))]),a("v-uni-view",{staticClass:"reader-info mudium-text T4"},[a("v-uni-label",[t._v("诵经师："+t._s(t.initData.declaimer))]),a("v-uni-label",[t._v("录音师："+t._s(t.initData.mixer))]),a("v-uni-label",[t._v("监制："+t._s(t.initData.producer))]),t._v(t._s(t.initData.time))],1),a("v-uni-view",{directives:[{name:"show",rawName:"v-show",value:t.initData.introduce,expression:"initData.introduce"}],staticClass:"intro T4 assistant-text",class:{show:t.isShowIntroduce},attrs:{id:"intro"}},[t._v(t._s(t.initData.introduce))]),a("v-uni-view",{directives:[{name:"show",rawName:"v-show",value:t.initData.introduce,expression:"initData.introduce"}],staticClass:"extend",on:{click:function(i){arguments[0]=i=t.$handleEvent(i),t.showDetail.apply(void 0,arguments)}}},[a("actionIcon",{attrs:{iconClass:"icon-greyTriangle",extraClass:t.isShowIntroduce?"down assistant-text":"assistant-text"}})],1)],1),t._l(t.curMantraList,function(i,e){return a("chapterCard",{key:e,staticClass:"skeleton-rect",attrs:{isActive:t.curPayAudio.id==i.id,audata:i,classicData:t.initData},on:{playAudio:function(i){arguments[0]=i=t.$handleEvent(i),t.playAudio(i)}}})})],2)],1)],1),a("bottomActionBar",{attrs:{actionData:t.initData,quotePage:"mantraInfo",from:t.from},on:{onShare:function(i){arguments[0]=i=t.$handleEvent(i),t.onShare.apply(void 0,arguments)}}})],1)},s=[];a.d(i,"b",function(){return n}),a.d(i,"c",function(){return s}),a.d(i,"a",function(){return e})},c0fb:function(t,i,a){"use strict";var e=a("a425"),n=a.n(e);n.a},c38f:function(t,i,a){"use strict";var e=a("288e");Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0;var n=e(a("ee2c")),s=e(a("f56b")),o=e(a("a96e")),r=e(a("f063")),c=e(a("e2ff")),l=e(a("a93d")),u=a("2f01"),d={props:{},inheritAttrs:!1,data:function(){return{isShowBack:"on",isAutoPlay:!1,isShowApp:!1,isShowTip:!0,initData:{},type:""}},mounted:function(){this.setshareReady()},computed:{plateform:function(){return this.$store.state.plateform},isAppShow:function(){return this.$store.state.isAppShow}},methods:{setClassic:function(t){var i=this;uni.showLoading({title:"加载中"}),this.getData(this.APIURL+"/classic/classic/detail",{classicId:t},function(t){"suc"==t.result&&(i.initData=t.data,i.$store.commit("setCurShowClassic",t.data),uni.setNavigationBarTitle({title:t.data.title}),i.setShareConfig())})},getData:function(t,i,a){i=i||"",uni.request({url:t,data:i,method:"post",header:{SessionKey:uni.getStorageSync("session_key")},success:function(t){var i=t.data;setTimeout(function(){uni.hideLoading()},1500),a(i)},fail:function(){setTimeout(function(){uni.hideLoading()},1500)}})},setshareReady:function(){var t=this;this.WX.ready(function(){console.log("wexinCongig ready"),t.WX.checkJsApi({jsApiList:["updateAppMessageShareData","updateTimelineShareData","onMenuShareAppMessage","onMenuShareTimeline"],success:function(i){t.setShareConfig()}})})},setShareConfig:function(){var t=this,i={title:t.initData.title+"详情",desc:t.initData.description||t.initData.title+"详情",link:"",imgUrl:t.initData.images.share2,success:function(){}};return i.link=window.location.origin+"/#/pages/mantra/classicDetail?curId="+t.initData.id+"&autoplay=true&app="+t.isShowApp+"&back="+t.isShowBack,t.WX.updateAppMessageShareData(i),t.WX.updateTimelineShareData(i),i},showAppModel:function(){if("mp"==this.plateform)this.$store.commit("setAppGuidShow",!0);else{var t="lih://launcher/classic/classicDetail?curId="+this.initData.id+"&chapterId="+this.initData.position.chapterId;(0,u.openApp)(t)}}},components:{fullguide:o.default,docText:r.default,mantraInfo:n.default,regitorLayer:c.default,uploadTip:s.default,openAppGuid:l.default},watch:{isAppShow:function(t){}},onLoad:function(t){var i=t.curId;this.setClassic(i),this.isShowApp="true"===t.app,this.isShowBack=t.back,this.isAutoPlay=t.autoplay,this.type=t.type,this.$store.commit("setGloablePlay",this.isAutoPlay),this.$store.commit("setIsShowMantraDetail",!0)},onShareAppMessage:function(t){var i={};if("button"===t.from){var a=t.target.dataset;i={title:a.sharetitle,desc:a.sharedec,path:a.shareurl,imgUrl:a.shareimg}}else i=this.setShareConfig();return i}};i.default=d},ea70:function(t,i,a){"use strict";var e=a("954c"),n=a.n(e);n.a},ee2c:function(t,i,a){"use strict";a.r(i);var e=a("b699"),n=a("1c60");for(var s in n)"default"!==s&&function(t){a.d(i,t,function(){return n[t]})}(s);a("c0fb");var o,r=a("f0c5"),c=Object(r["a"])(n["default"],e["b"],e["c"],!1,null,"1c5ece90",null,!1,e["a"],o);i["default"]=c.exports},f210:function(t,i,a){"use strict";var e,n=function(){var t=this,i=t.$createElement,a=t._self._c||i;return a("v-uni-view",{staticClass:"lightTheme classicDetail",attrs:{id:"classicDetail"}},[t.isShowApp?a("uploadTip",{directives:[{name:"show",rawName:"v-show",value:t.isShowTip,expression:"isShowTip"}],on:{close:function(i){arguments[0]=i=t.$handleEvent(i),t.isShowTip=!1},openApp:function(i){arguments[0]=i=t.$handleEvent(i),t.showAppModel.apply(void 0,arguments)}}}):t._e(),a("mantraInfo",{attrs:{isShowClose:t.isShowBack,theme:t.type,from:"mantraDetail"}}),a("fullguide"),a("docText",{attrs:{isShowClose:"true",from:"mantraDetail"}}),a("regitorLayer",{on:{confirm:function(i){arguments[0]=i=t.$handleEvent(i),t.login.apply(void 0,arguments)}}}),a("openAppGuid")],1)},s=[];a.d(i,"b",function(){return n}),a.d(i,"c",function(){return s}),a.d(i,"a",function(){return e})}}]);