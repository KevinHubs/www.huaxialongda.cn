(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-docText-index~pages-h5-index~pages-mantra-classicDetail~pages-mantra-index~pages-player-index~~c12421a9"],{"179a":function(t,e,n){var i=n("4f88");"string"===typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);var a=n("4f06").default;a("dd88ccf4",i,!0,{sourceMap:!1,shadowMode:!1})},"1cf7":function(t,e,n){"use strict";var i,a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("layer",{attrs:{title:"关于"+t.classicData.title+"的提问",isShow:t.isShowLayer,layerButtons:t.layerBtn,id:"questionLayer"},on:{close:function(e){arguments[0]=e=t.$handleEvent(e),t.onClose.apply(void 0,arguments)},layerBtnClick:function(e){arguments[0]=e=t.$handleEvent(e),t.layerBtnClick(e)}}},[n("putQuestions",{attrs:{isShow:t.isShowLayer,classicData:t.classicData,id:"putQuestions",onSubmit:t.onSubmit},on:{close:function(e){arguments[0]=e=t.$handleEvent(e),t.onClose.apply(void 0,arguments)},hasSubmit:function(e){arguments[0]=e=t.$handleEvent(e),t.onSubmit=!1}}})],1)},o=[];n.d(e,"b",function(){return a}),n.d(e,"c",function(){return o}),n.d(e,"a",function(){return i})},"3fa8":function(t,e,n){"use strict";var i=n("288e");Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,n("34ef"),n("4917"),n("28a5");var a=i(n("795b")),o=i(n("0a0d")),s=(n("2f01"),{props:{classicData:{type:Object},isShow:{type:Boolean},onSubmit:{type:Boolean}},data:function(){return{imageList:[],addFlag:!0,curUpload:"add",questionCont:"",fileList:[]}},computed:{},mounted:function(){},onReady:function(){},methods:{upload:function(t,e){this.curUpload=t;var n=this;uni.chooseImage({count:1,sizeType:["compressed"],sourceType:["album","camera"],success:function(t){var i=t.tempFilePaths[0];e=e||0,n.onComplete({avatar:i},e)}})},onComplete:function(t,e){var n=this;if(this.showUpload=!1,t){var i=t.avatar;this.blobStrToFile(i,this.classicData.title+e+".jpg").then(function(t){n.fileList.push(t)}),i&&("add"==this.curUpload?this.imageList.push(t):this.imageList.splice(e,1,t),1==this.imageList.length&&(this.addFlag=!1))}},uploadFile:function(t,e){var n=this;uni.uploadFile({url:this.APIURL+t,filePath:e,name:"file",header:{SessionKey:uni.getStorageSync("session_key")},success:function(t){var e=t.data;e=JSON.parse(e),"suc"==e.result&&(uni.showToast({title:"上传成功",image:n.defaultTaostImg,duration:1e3}),n.$emit("complete"))},ail:function(t){console.log("uploadImage fail",t),uni.showModal({content:t.errMsg,showCancel:!1}),uni.hideLoading()},complete:function(){console.log("complate")}})},removeImg:function(t){this.imageList.splice(t,1),this.fileList.splice(t,1),0==this.imageList.length&&(this.addFlag=!0)},blobToFile:function(t,e){var n=new File([t],e,{type:"images/jpeg",lastModified:(0,o.default)()});return n},blobStrToFile:function(t,e){var n=this,i=new Image,o=document.createElement("CANVAS"),s=o.getContext("2d");return i.src=t,new a.default(function(t,a){i.onload=function(){o.height=i.height,o.width=i.width,s.drawImage(i,0,0);var a=o.toDataURL("image/jpeg"),c=n.dataURLtoFile(a,e);t(c)}})},dataURLtoFile:function(t,e){var n=t.split(","),i=n[0].match(/:(.*?);/)[1],a=atob(n[1]),o=a.length,s=new Uint8Array(o);while(o--)s[o]=a.charCodeAt(o);return new File([s],e,{type:i})},save:function(){var t=this;if(""==this.questionCont)return uni.showToast({title:"问题不能为空",image:this.defaultTaostImg}),void t.$emit("hasSubmit");var e="关于"+this.classicData.title+"的问题-"+this.questionCont,n={type:"question",content:e};for(var i in"heartfelt"==this.classicData.type&&(n.heartfelt=this.classicData.id),this.fileList){var a=this.fileList[i];n["file["+i+"]"]=a}console.log("打印提问入参"),this.agiConsole.log(n),uni.showLoading({title:"提交中，请稍后"}),this.imageList.length>0?uni.uploadFile({url:this.APIURL+"/classic/question/save",filePath:this.imageList[0].avatar,name:"file[0]",formData:n,header:{SessionKey:uni.getStorageSync("session_key")},success:function(e){var n=e.data;uni.hideLoading(),n=JSON.parse(n),"suc"==n.result?(t.questionCont="",uni.showToast({title:"提交成功",image:t.defaultTaostImg}),t.$emit("close")):uni.showToast({title:n.msg,image:t.defaultTaostImg})},ail:function(t){uni.showModal({content:t.errMsg,showCancel:!1}),uni.hideLoading()}}):uni.request({url:this.APIURL+"/classic/question/save",data:n,method:"post",header:{SessionKey:uni.getStorageSync("session_key")},success:function(e){var n=e.data;"suc"==n.result?(t.questionCont="",uni.showToast({title:"提交成功",image:t.defaultTaostImg}),t.$emit("close")):uni.showToast({title:n.msg,image:t.defaultTaostImg})}})}},watch:{isShow:function(t){},onSubmit:function(t){t&&this.save()}},components:{}});e.default=s},"3fed":function(t,e,n){"use strict";n.r(e);var i=n("3fa8"),a=n.n(i);for(var o in i)"default"!==o&&function(t){n.d(e,t,function(){return i[t]})}(o);e["default"]=a.a},4994:function(t,e,n){var i=n("ef51");"string"===typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);var a=n("4f06").default;a("2d1e7b42",i,!0,{sourceMap:!1,shadowMode:!1})},"4f88":function(t,e,n){e=t.exports=n("2350")(!1),e.push([t.i,'@charset "UTF-8";\n/**\r\n * 这里是uni-app内置的常用样式变量\r\n *\r\n * uni-app 官方扩展插件及插件市场（https://ext.dcloud.net.cn）上很多三方插件均使用了这些样式变量\r\n * 如果你是插件开发者，建议你使用scss预处理，并在插件代码中直接使用这些变量（无需 import 这个文件），方便用户通过搭积木的方式开发整体风格一致的App\r\n *\r\n */\n/**\r\n * 如果你是App开发者（插件使用者），你可以通过修改这些变量来定制自己的插件主题，实现自定义主题功能\r\n *\r\n * 如果你的项目同样使用了scss预处理，你也可以直接在你的 scss 代码中使用如下变量，同时无需 import 这个文件\r\n */\n/* 颜色变量 */\n/* 行为相关颜色 */\n/* 文字基本颜色 */\n/* 背景颜色 */\n/* 边框颜色 */\n/* 尺寸变量 */\n/* 文字尺寸 */\n/* 图片尺寸 */\n/* Border Radius */\n/* 水平间距 */\n/* 垂直间距 */\n/* 透明度 */\n/* 文章场景相关 */.qustion-content .text-area[data-v-5b6849ee]{width:100%}.qustion-content .upload-img[data-v-5b6849ee]{display:-webkit-box;display:-webkit-flex;display:flex;border-top:%?1?% solid;padding-top:%?20?%;-webkit-flex-wrap:wrap;flex-wrap:wrap}.qustion-content .upload-img .uploader[data-v-5b6849ee]{width:%?160?%;height:%?160?%;background:#eee;margin-left:%?44?%;margin-bottom:%?20?%;position:relative}.qustion-content .upload-img .uploader[data-v-5b6849ee]:nth-child(3n+1){margin-left:0}.qustion-content .upload-img .uploader .preview[data-v-5b6849ee]{height:100%;width:100%}.qustion-content .upload-img .uploader .upload[data-v-5b6849ee]{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-pack:center;-webkit-justify-content:center;justify-content:center;-webkit-box-align:center;-webkit-align-items:center;align-items:center;width:100%;height:100%}.qustion-content .upload-img .uploader .upload .action-icon[data-v-5b6849ee]{font-size:22px}.qustion-content .upload-img .uploader .remove[data-v-5b6849ee]{position:absolute;right:%?-16?%;top:%?-16?%;z-index:2;width:%?40?%;height:%?40?%;border-radius:%?30?%;background:rgba(0,0,0,.6);text-align:center;line-height:%?37?%;font-size:%?30?%}',""])},5049:function(t,e,n){"use strict";var i=n("179a"),a=n.n(i);a.a},5682:function(t,e,n){"use strict";var i,a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-uni-view",{staticClass:"qustion-content"},[n("v-uni-view",{staticClass:"contet"},[n("v-uni-textarea",{staticClass:"T3 text-area",attrs:{placeholder:"(请在区域输入您的问题)",maxlength:"400"},model:{value:t.questionCont,callback:function(e){t.questionCont=e},expression:"questionCont"}})],1),n("v-uni-view",{staticClass:"upload-img lightest-line"},[t._l(t.imageList,function(e,i){return n("v-uni-view",{key:i,staticClass:"uploader"},[n("v-uni-image",{staticClass:"preview",attrs:{src:e.avatar,mode:"aspectFit"},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.upload("change",i)}}}),n("v-uni-view",{staticClass:"remove fg-text",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.removeImg(i)}}},[t._v("×")])],1)}),t.addFlag?n("v-uni-view",{staticClass:"uploader"},[n("v-uni-view",{staticClass:"upload",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.upload("add")}}},[n("actionIcon",{staticClass:"action-icon",attrs:{iconClass:"icon-add"}})],1)],1):t._e()],2),n("v-uni-view")],1)},o=[];n.d(e,"b",function(){return a}),n.d(e,"c",function(){return o}),n.d(e,"a",function(){return i})},"63b6c":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,n("6762"),n("2fdb");var i={name:"skeleton",props:{bgcolor:{type:String,value:"#FFF"},selector:{type:String,value:"skeleton"},loading:{type:String,value:"spin"}},data:function(){return{loadingAni:["spin","chiaroscuro"],systemInfo:{},skeletonRectLists:[],skeletonCircleLists:[],skeletonWhiteRectLists:[],skeletonWhiteCircleLists:[]}},computed:{},methods:{getIndex:function(t){return t},attachedAction:function(){var t=uni.getSystemInfoSync();this.systemInfo={width:t.windowWidth,height:t.windowHeight},this.loading=this.loadingAni.includes(this.loading)?this.loading:"spin"},readyAction:function(){var t=this;uni.createSelectorQuery().selectAll(".".concat(this.selector)).boundingClientRect().exec(function(t){}),setTimeout(function(){t.rectHandle(),t.radiusHandle(),t.rectWhiteHandle(),t.radiusWhiteHandle()},550)},rectHandle:function(){var t=this;uni.createSelectorQuery().selectAll(".".concat(this.selector,"-rect")).boundingClientRect().exec(function(e){t.skeletonRectLists=e[0]})},radiusHandle:function(){var t=this;uni.createSelectorQuery().selectAll(".".concat(this.selector,"-radius")).boundingClientRect().exec(function(e){t.skeletonCircleLists=e[0]})},rectWhiteHandle:function(){var t=this;uni.createSelectorQuery().selectAll(".".concat(this.selector,"-rect-white")).boundingClientRect().exec(function(e){t.skeletonWhiteRectLists=e[0]})},radiusWhiteHandle:function(){var t=this;uni.createSelectorQuery().selectAll(".".concat(this.selector,"-radius-white")).boundingClientRect().exec(function(e){t.skeletonWhiteCircleLists=e[0]})}}};e.default=i},"6b89":function(t,e,n){"use strict";var i=n("288e");Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var a=i(n("bf5d")),o={props:{isShowLayer:{type:Boolean},classicData:{type:Object}},data:function(){var t=[{text:"提交问题",actionType:"confirm"}];return{layerBtn:t,putQuestionsCom:{},onSubmit:!1}},mounted:function(){},onReady:function(){},components:{putQuestions:a.default},methods:{layerBtnClick:function(t){"confirm"==t.actionType&&(this.onSubmit=!0)},onClose:function(){this.onSubmit=!1,this.$emit("close")}},watch:{isShowLayer:function(t){}}};e.default=o},7852:function(t,e,n){"use strict";var i,a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-uni-view",{staticClass:"skeletonWrp",style:{width:t.systemInfo.width+"px",height:t.systemInfo.height+"px",backgroundColor:t.bgcolor,position:"absolute",left:0,top:0,zIndex:9998,overflow:"hidden"}},[t._l(t.skeletonRectLists,function(e,i){return n("v-uni-view",{key:i+"a",class:["chiaroscuro"==t.loading?"chiaroscuro":""],style:{width:e.width+"px",height:e.height+"px",position:"absolute",left:e.left+"px",top:e.top+"px"}})}),t._l(t.skeletonCircleLists,function(e,i){return n("v-uni-view",{key:i+"b",class:"chiaroscuro"==t.loading?"chiaroscuro ":"",style:{width:e.width+"px",height:e.height+"px",borderRadius:e.width+"px",position:"absolute",left:e.left+"px",top:e.top+"px"}})}),t._l(t.skeletonWhiteRectLists,function(e,i){return n("v-uni-view",{key:i+"c",class:["chiaroscuro"==t.loading?"chiaroscuro white":""],style:{width:e.width+"px",height:e.height+"px",position:"absolute",left:e.left+"px",top:e.top+"px"}})}),t._l(t.skeletonWhiteCircleLists,function(e,i){return n("v-uni-view",{key:i+"d",class:"chiaroscuro"==t.loading?"chiaroscuro white":"",style:{width:e.width+"px",height:e.height+"px",borderRadius:e.width+"px",position:"absolute",left:e.left+"px",top:e.top+"px"}})}),"spin"==t.loading?n("v-uni-view",{staticClass:"spinbox"},[n("v-uni-view",{staticClass:"spin"})],1):t._e()],2)},o=[];n.d(e,"b",function(){return a}),n.d(e,"c",function(){return o}),n.d(e,"a",function(){return i})},"843b":function(t,e,n){"use strict";n.r(e);var i=n("1cf7"),a=n("aedb");for(var o in a)"default"!==o&&function(t){n.d(e,t,function(){return a[t]})}(o);var s,c=n("f0c5"),r=Object(c["a"])(a["default"],i["b"],i["c"],!1,null,"1336651c",null,!1,i["a"],s);e["default"]=r.exports},"9c60":function(t,e,n){"use strict";n.r(e);var i=n("7852"),a=n("d97e");for(var o in a)"default"!==o&&function(t){n.d(e,t,function(){return a[t]})}(o);n("be24");var s,c=n("f0c5"),r=Object(c["a"])(a["default"],i["b"],i["c"],!1,null,"cd618b94",null,!1,i["a"],s);e["default"]=r.exports},aedb:function(t,e,n){"use strict";n.r(e);var i=n("6b89"),a=n.n(i);for(var o in i)"default"!==o&&function(t){n.d(e,t,function(){return i[t]})}(o);e["default"]=a.a},be24:function(t,e,n){"use strict";var i=n("4994"),a=n.n(i);a.a},bf5d:function(t,e,n){"use strict";n.r(e);var i=n("5682"),a=n("3fed");for(var o in a)"default"!==o&&function(t){n.d(e,t,function(){return a[t]})}(o);n("5049");var s,c=n("f0c5"),r=Object(c["a"])(a["default"],i["b"],i["c"],!1,null,"5b6849ee",null,!1,i["a"],s);e["default"]=r.exports},d97e:function(t,e,n){"use strict";n.r(e);var i=n("63b6c"),a=n.n(i);for(var o in i)"default"!==o&&function(t){n.d(e,t,function(){return i[t]})}(o);e["default"]=a.a},ef51:function(t,e,n){e=t.exports=n("2350")(!1),e.push([t.i,'\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n/* \t.skeletonWrp{\n\t\theight: 100%;\n\t} */.spinbox[data-v-cd618b94]{position:fixed;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-pack:center;-webkit-justify-content:center;justify-content:center;-webkit-box-align:center;-webkit-align-items:center;align-items:center;height:100%;width:100%;z-index:9999}.spin[data-v-cd618b94]{display:inline-block;width:%?64?%;height:%?64?%}.spin[data-v-cd618b94]:after{content:" ";display:block;width:%?46?%;height:%?46?%;margin:%?1?%;border-radius:50%;border:%?5?% solid #409eff;border-color:#409eff transparent #409eff transparent;-webkit-animation:spin-data-v-cd618b94 1.2s linear infinite;animation:spin-data-v-cd618b94 1.2s linear infinite}@-webkit-keyframes spin-data-v-cd618b94{0%{-webkit-transform:rotate(0deg);transform:rotate(0deg)}to{-webkit-transform:rotate(1turn);transform:rotate(1turn)}}@keyframes spin-data-v-cd618b94{0%{-webkit-transform:rotate(0deg);transform:rotate(0deg)}to{-webkit-transform:rotate(1turn);transform:rotate(1turn)}}.chiaroscuro[data-v-cd618b94]{width:100%;height:100%;background:#e4e4e4;-webkit-animation-duration:2s;animation-duration:2s;-webkit-animation-name:blink-data-v-cd618b94;animation-name:blink-data-v-cd618b94;-webkit-animation-iteration-count:infinite;animation-iteration-count:infinite}.chiaroscuro.white[data-v-cd618b94]{background:#fff}@-webkit-keyframes blink-data-v-cd618b94{0%{opacity:.4}50%{opacity:1}to{opacity:.4}}@keyframes blink-data-v-cd618b94{0%{opacity:.4}50%{opacity:1}to{opacity:.4}}@-webkit-keyframes flush-data-v-cd618b94{0%{left:-100%}50%{left:0}to{left:100%}}@keyframes flush-data-v-cd618b94{0%{left:-100%}50%{left:0}to{left:100%}}.shine[data-v-cd618b94]{-webkit-animation:flush-data-v-cd618b94 2s linear infinite;animation:flush-data-v-cd618b94 2s linear infinite;position:absolute;top:0;bottom:0;width:100%;background:-webkit-linear-gradient(right,hsla(0,0%,100%,0),hsla(0,0%,100%,.85) 50%,hsla(0,0%,100%,0));background:linear-gradient(270deg,hsla(0,0%,100%,0) 0,hsla(0,0%,100%,.85) 50%,hsla(0,0%,100%,0))}',""])}}]);