(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-4002930a"],{2264:function(t,e,s){"use strict";var i=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("el-dialog",{attrs:{title:"发起提问",visible:t.qrShow,width:"40%",center:""},on:{close:t.close}},[s("el-input",{attrs:{type:"textarea",rows:10,placeholder:"请输入内容",maxlength:"200","show-word-limit":""},model:{value:t.textarea,callback:function(e){t.textarea=e},expression:"textarea"}}),s("div",{staticClass:"icon-text"},[s("span",{staticClass:"iconfont icon-tupianguanli"}),s("span",[t._v("上传图片")])]),s("div",{staticClass:"picture-wrp"},[s("div",{staticClass:"upload-wrp",on:{click:t.triggerClick}},[t._l(t.fileList,(function(t,e){return s("div",{key:e,staticClass:"img-preview"},[s("img",{attrs:{src:t.src}})])})),s("div",{staticClass:"inputBoild"},[s("span",{staticClass:"iconfont icon-add",attrs:{id:"iconAdd"}}),s("input",{ref:"upload",attrs:{type:"file",id:"fileInput",accept:"image/jpeg, image/png, image/jpg",multiple:""},on:{change:t.uploadChange}})])],2)]),s("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[s("el-button",{staticStyle:{width:"332px",height:"50px",background:"#bead95"},attrs:{type:"info"},on:{click:t.centerDialogVisible}},[t._v("发布")])],1)],1)],1)},a=[],n=(s("7f7f"),s("57e7"),{data:function(){return{qrShow:!1,textarea:"",sessionKey:"",fileList:[]}},methods:{uploadChange:function(t){console.log(t);var e=new FormData,s=this.$refs.upload.files,i=[];e.append("file",this.$refs.upload.files);for(var a=0;a<s.length;a++){e.append("file["+a+"]",s[a]);var n=window.navigator.userAgent.indexOf("Chrome")>=1||window.navigator.userAgent.indexOf("Safari")>=1?window.webkitURL.createObjectURL(s[a]):window.URL.createObjectURL(s[a]),o={name:s[a].name,src:n};s[a].name.indexOf("video")>0?"video":"classic",i.push(o)}},triggerClick:function(){this.$refs.upload.click()},clickOut:function(t){var e=this.APIURL+"/classic/question/save",s=this,i={content:this.textarea,anonymity:0,type:t};this.$axios.post(e,i,{headers:{SessionKey:this.SessionKey,key:this.key}}).then((function(t){console.log(t.data),0==t.data.errorCode?(s.$message({message:"发布成功",type:"success"}),s.$store.commit("setQadidlogShow",!1)):alert(t.data.msg)})).catch((function(t){}))},centerDialogVisible:function(){this.clickOut("question")},close:function(){this.$store.commit("setQadidlogShow",!1)}},watch:{QadidlogShow:function(t){this.qrShow=t}},computed:{QadidlogShow:function(){return this.$store.state.QadidlogShow},SessionKey:function(){return this.$store.state.SessionKey},key:function(){return this.$store.state.key}}}),o=n,c=(s("5d3b"),s("2877")),r=Object(c["a"])(o,i,a,!1,null,null,null);e["a"]=r.exports},"2f21":function(t,e,s){"use strict";var i=s("79e5");t.exports=function(t,e){return!!t&&i((function(){e?t.call(null,(function(){}),1):t.call(null)}))}},"454f":function(t,e,s){s("46a7");var i=s("584a").Object;t.exports=function(t,e,s){return i.defineProperty(t,e,s)}},"46a7":function(t,e,s){var i=s("63b6");i(i.S+i.F*!s("8e60"),"Object",{defineProperty:s("d9f6").f})},5118:function(t,e,s){(function(t){var i="undefined"!==typeof t&&t||"undefined"!==typeof self&&self||window,a=Function.prototype.apply;function n(t,e){this._id=t,this._clearFn=e}e.setTimeout=function(){return new n(a.call(setTimeout,i,arguments),clearTimeout)},e.setInterval=function(){return new n(a.call(setInterval,i,arguments),clearInterval)},e.clearTimeout=e.clearInterval=function(t){t&&t.close()},n.prototype.unref=n.prototype.ref=function(){},n.prototype.close=function(){this._clearFn.call(i,this._id)},e.enroll=function(t,e){clearTimeout(t._idleTimeoutId),t._idleTimeout=e},e.unenroll=function(t){clearTimeout(t._idleTimeoutId),t._idleTimeout=-1},e._unrefActive=e.active=function(t){clearTimeout(t._idleTimeoutId);var e=t._idleTimeout;e>=0&&(t._idleTimeoutId=setTimeout((function(){t._onTimeout&&t._onTimeout()}),e))},s("6017"),e.setImmediate="undefined"!==typeof self&&self.setImmediate||"undefined"!==typeof t&&t.setImmediate||this&&this.setImmediate,e.clearImmediate="undefined"!==typeof self&&self.clearImmediate||"undefined"!==typeof t&&t.clearImmediate||this&&this.clearImmediate}).call(this,s("c8ba"))},"54ed":function(t,e,s){"use strict";var i=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"myBread"},[s("el-breadcrumb",{attrs:{"separator-class":"el-icon-arrow-right"}},t._l(t.breadList,(function(e,i){return s("el-breadcrumb-item",{key:i,attrs:{to:{path:e.path}}},[t._v(t._s(e.name))])})),1)],1)},a=[],n=s("bd86"),o=Object(n["a"])({props:["breadList"],data:function(){return{}},watch:{},computed:{},mounted:function(){},methods:{}},"watch",{}),c=o,r=(s("ff58"),s("2877")),l=Object(r["a"])(c,i,a,!1,null,"0ca4d5bf",null);e["a"]=l.exports},"57e7":function(t,e,s){"use strict";var i=s("5ca1"),a=s("c366")(!1),n=[].indexOf,o=!!n&&1/[1].indexOf(1,-0)<0;i(i.P+i.F*(o||!s("2f21")(n)),"Array",{indexOf:function(t){return o?n.apply(this,arguments)||0:a(this,t,arguments[1])}})},"5d3b":function(t,e,s){"use strict";var i=s("7d61"),a=s.n(i);a.a},"5e80":function(t,e,s){"use strict";s.r(e);var i=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("myBreadcrumb",{attrs:{breadList:t.breadList}}),s("div",{staticClass:"content"},[s("div",{staticClass:"left"},[s("div",{staticClass:"card lightest-bg"},[s("div",{staticClass:"card-top"},[s("div",{staticClass:"tupian light-bg"},[s("img",{attrs:{src:t.list.images?t.list.images.detail:"",alt:""}})]),s("div",{staticClass:"bofang"},[s("div",{staticClass:"name"},[s("span",{staticClass:"dark-text"},[t._v(t._s(t.list.title))])]),s("div",{staticClass:"time"},[s("p",{staticClass:"medium-text"},[t._v(t._s(t.list.time))])]),s("div",[s("p",{staticClass:"medium-text"},[t._v("\n                诵经师:"+t._s(t.list.declaimer)+"   录音师:"+t._s(t.list.mixer)+"\n                  监制:"+t._s(t.list.producer)+"\n              ")])]),s("div",{staticClass:"lable"},[s("span",{staticClass:"assistant-box"},[t._v(t._s(t.classicLabel))])]),s("div",{staticClass:"switch lightest-box",on:{click:t.handClick}},[s("a",{attrs:{href:"javascript:void(0)"}},[s("span",{class:t.isplaying?"iconfont icon-zanting push-button theme-text":"iconfont icon-bofang push-button theme-text"})]),s("a",{attrs:{href:"javascript:void(0)"}},[s("span",{directives:[{name:"show",rawName:"v-show",value:!t.flag,expression:"!flag"}],staticClass:"theme-text",domProps:{textContent:t._s(t.btnText)}}),s("span",{directives:[{name:"show",rawName:"v-show",value:t.flag,expression:"flag"}],staticClass:"theme-text",domProps:{textContent:t._s(t.btnText)}})])]),s("div",{staticClass:"click"},[s("ul",[s("li",[s("a",{staticClass:"assistant-text",attrs:{href:"javascript:void(0)",title:"收藏"},on:{click:t.collect}},[s("span",{staticClass:"iconfont icon-shoucang",class:[1==t.list.is_collect?"show":""]}),s("span",{domProps:{innerHTML:t._s(1==t.list.is_collect?"已收藏":"收藏")}})])]),s("li",[s("a",{staticClass:"assistant-text",attrs:{href:"javascript:void(0)",title:"助印"},on:{click:t.zhuyin}},[s("span",{staticClass:"iconfont icon-printing"}),s("span",[t._v("助印")])])]),s("li",[s("a",{staticClass:"assistant-text",attrs:{href:"javascript:void(0)",title:"问答"},on:{click:t.qranswer}},[s("span",{staticClass:"iconfont icon-wenda1"}),s("span",[t._v("问答")])])]),s("li",[s("a",{staticClass:"assistant-text",attrs:{href:"javascript:void(0)",title:"打赏"},on:{click:t.reward}},[s("span",{staticClass:"iconfont icon-dashang"}),s("span",[t._v("打赏")])])]),s("li",[s("a",{staticClass:"assistant-text",attrs:{href:"javascript:void(0)",title:"分享"},on:{click:t.shareIng}},[s("span",{staticClass:"iconfont icon-fenxiang"}),s("span",[t._v("分享")])])])])]),s("div",{staticClass:"ewmcode lightest-bg theme-line"},[s("QrcodeVue",{staticClass:"wchatCode",attrs:{value:t.wchatText}}),t._m(0)],1)])]),s("div",{staticClass:"card-bottom"},[s("div",{staticClass:"tables"},[s("div",{staticClass:"table"},[s("el-table",{staticClass:"dark-text",staticStyle:{width:"100%"},attrs:{data:t.list.chapters,"row-class-name":t.tableRowClassName},on:{"row-click":t.handdle}},[t._v("\n                >\n                "),s("el-table-column",{attrs:{label:t.list.title+"已更新到("+t.list.recentChapterTitle+")",prop:"title"}}),s("el-table-column",{attrs:{align:"right"},scopedSlots:t._u([{key:"default",fn:function(e){return[s("el-button",{attrs:{size:"mini",type:"text"},on:{click:function(s){return t.getId(e.$index,e.row)}}},[t._v("听与看")]),s("span",{staticClass:"iconfont icon-wengao dark-text"})]}}])})],1)],1)])])]),t.isHide?s("div",{staticClass:"textDetails lightest-bg"},[s("div",{staticClass:"hideBg"},[s("span",{staticClass:"light-text",attrs:{id:"text"}},[t._v(t._s(t.list.introduce?t.list.introduce:"暂时无数据..."))])]),s("a",{staticClass:"lookMore assistant-text",attrs:{href:"javascript:void(0)"},on:{click:function(e){return t.onShow()}}},[t._v("展开>")])]):s("div",{staticClass:"textDetails lightest-bg"},[s("div",{staticClass:"showBg"},[s("span",{staticClass:"light-text",attrs:{id:"text"}},[t._v(t._s(t.list.introduce))])]),s("a",{staticClass:"lookMore assistant-text",attrs:{href:"javascript:void(0)"},on:{click:function(e){return t.onHide()}}},[t._v("收起<")])])]),t._m(1)]),s("el-dialog",{attrs:{title:t.qrTitle,visible:t.shareShow,id:"scanDialoge","close-on-click-modal":!1,"show-close":""},on:{"update:visible":function(e){t.shareShow=e}}},[s("QrcodeVue",{staticClass:"qrCode",attrs:{value:t.qrText,size:"200"}}),s("p",[t._v(t._s(t.tipInfo))])],1),s("qrdialog")],1)},a=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("p",{staticClass:"dark-text"},[t._v("\n                微信扫一扫\n                "),s("br"),t._v("收听有声经典\n              ")])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"right"},[s("div",{staticClass:"blank-1"}),s("div",{staticClass:"blank-2"})])}],n=s("2264"),o=s("bbd5"),c=s("d7b0"),r=s("54ed"),l=(s("5118"),{data:function(){return{isplaying:!1,qrTitle:"",tipInfo:"",qrText:"",shareShow:!1,classicLabel:"",isHide:!1,list:"",id:"",btnText:"立即播放",button:!0,title:"",isShow:!1,wchatText:"",rowId:""}},created:function(){var t=sessionStorage.getItem("ClassicLabel"),e={};e.path=this.$route.path,e.name=t,Object(o["a"])(e,1,this)},mounted:function(){this.detailsList()},methods:{tableRowClassName:function(t){var e=t.row;t.rowIndex;return e.id===this.rowId?"current-row":""},detailsList:function(){var t=this,e=localStorage.getItem("ClassicId");t.classicLabel=sessionStorage.getItem("ClassicLabel");var s=this.APIURL+"/classic/classic/detail";this.$axios.post(s,{classicId:e,order:"asc"},{headers:{SessionKey:this.SessionKey,key:this.key}}).then((function(e){var s=e.data;t.list=s.data,t.audioList.classicId==t.list.id?t.isplaying=!0:t.isplaying=!1,t.wchatText="https://m.lihan.ltd/#/pages/mantra/classicDetail?curId="+t.list.id+"&app=true&bgclr=false"}))},onShow:function(){this.isHide=!1},onHide:function(){this.isHide=!0},handClick:function(){var t=this;t.isplaying=!t.isplaying;var e=document.getElementById("myAudio");this.$store.commit("setBookList",this.list),this.$store.commit("setFlag",!t.flag),1==t.flag?(this.chapterId?this.$store.commit("setChapterId",this.chapterId):(this.$store.commit("setChapterId",this.list.chapters[0].id),t.rowId=this.list.chapters[0].id),t.btnText="暂停播放",e.play(),this.$store.commit("setSeen",!0)):(this.btnText="立即播放",e.pause())},getId:function(t,e){var s=this;s.rowId=e.id;document.getElementById("text");this.$store.commit("setClassicId",s.id),this.$store.commit("setChapterId",e.id),this.$store.commit("setBookList",s.list),this.$store.commit("setSeen",!0)},handdle:function(t,e,s){this.rowId=t.id;var i=this;document.getElementById("text");this.$store.commit("setClassicId",i.id),this.$store.commit("setChapterId",t.id),this.$store.commit("setBookList",i.list),this.$store.commit("setSeen",!0)},collect:function(){var t=this,e=localStorage.getItem("ClassicId"),s=this.APIURL+"/classic/classic/behavior",i={classicId:e,type:"collect"};this.$axios.post(s,i,{headers:{SessionKey:this.SessionKey,key:this.key}}).then((function(e){0===e.data.errorCode?t.detailsList():(alert(e.data.msg),t.$router.push({path:"/login"}))}))},reward:function(){this.shareShow=!0,this.qrText="https://m.lihan.ltd/#/pages/helpPrint/reward?curId="+this.list.id,this.qrTitle="微信扫描二维码进行打赏"},zhuyin:function(){this.shareShow=!0,this.qrText="https://m.lihan.ltd/#/pages/helpPrint/index?curId="+this.list.id,this.qrTitle="微信扫描二维码进行助印"},shareIng:function(){this.shareShow=!0,this.qrText="https://m.lihan.ltd/#/pages/mantra/classicDetail?curId="+this.list.id+"&app=false&bgclr=false",this.qrTitle="微信扫描二维码进行分享"},qranswer:function(){this.$store.commit("setQadidlogShow",!0)}},watch:{$route:{handler:function(t,e){console.log(t),console.log(e)},deep:!0},audioList:function(t){t&&this.detailsList()}},computed:{audioList:function(){return this.$store.state.audioList},flag:function(){return this.$store.state.flag},chapterId:function(){return this.$store.state.chapterId},classicId:function(){return this.$store.state.classicId},SessionKey:function(){return this.$store.state.SessionKey},key:function(){return this.$store.state.key},breadList:function(){return this.$store.state.breadList}},components:{myBreadcrumb:r["a"],QrcodeVue:c["a"],qrdialog:n["a"]}}),d=l,u=(s("c0b8"),s("2877")),f=Object(u["a"])(d,i,a,!1,null,null,null);e["default"]=f.exports},6017:function(t,e,s){(function(t,e){(function(t,s){"use strict";if(!t.setImmediate){var i,a=1,n={},o=!1,c=t.document,r=Object.getPrototypeOf&&Object.getPrototypeOf(t);r=r&&r.setTimeout?r:t,"[object process]"==={}.toString.call(t.process)?h():p()?m():t.MessageChannel?v():c&&"onreadystatechange"in c.createElement("script")?g():b(),r.setImmediate=l,r.clearImmediate=d}function l(t){"function"!==typeof t&&(t=new Function(""+t));for(var e=new Array(arguments.length-1),s=0;s<e.length;s++)e[s]=arguments[s+1];var o={callback:t,args:e};return n[a]=o,i(a),a++}function d(t){delete n[t]}function u(t){var e=t.callback,i=t.args;switch(i.length){case 0:e();break;case 1:e(i[0]);break;case 2:e(i[0],i[1]);break;case 3:e(i[0],i[1],i[2]);break;default:e.apply(s,i);break}}function f(t){if(o)setTimeout(f,0,t);else{var e=n[t];if(e){o=!0;try{u(e)}finally{d(t),o=!1}}}}function h(){i=function(t){e.nextTick((function(){f(t)}))}}function p(){if(t.postMessage&&!t.importScripts){var e=!0,s=t.onmessage;return t.onmessage=function(){e=!1},t.postMessage("","*"),t.onmessage=s,e}}function m(){var e="setImmediate$"+Math.random()+"$",s=function(s){s.source===t&&"string"===typeof s.data&&0===s.data.indexOf(e)&&f(+s.data.slice(e.length))};t.addEventListener?t.addEventListener("message",s,!1):t.attachEvent("onmessage",s),i=function(s){t.postMessage(e+s,"*")}}function v(){var t=new MessageChannel;t.port1.onmessage=function(t){var e=t.data;f(e)},i=function(e){t.port2.postMessage(e)}}function g(){var t=c.documentElement;i=function(e){var s=c.createElement("script");s.onreadystatechange=function(){f(e),s.onreadystatechange=null,t.removeChild(s),s=null},t.appendChild(s)}}function b(){i=function(t){setTimeout(f,0,t)}}})("undefined"===typeof self?"undefined"===typeof t?this:t:self)}).call(this,s("c8ba"),s("f28c"))},"73bf":function(t,e,s){},"7d61":function(t,e,s){},"7f7f":function(t,e,s){var i=s("86cc").f,a=Function.prototype,n=/^\s*function ([^ (]*)/,o="name";o in a||s("9e1e")&&i(a,o,{configurable:!0,get:function(){try{return(""+this).match(n)[1]}catch(t){return""}}})},"85f2":function(t,e,s){t.exports=s("454f")},bbd5:function(t,e,s){"use strict";s.d(e,"a",(function(){return i}));var i=function(t,e,s){var i=s.$store.state.breadList;i[e]=t;for(var a=e+1;a<i.length;a++)i[a]={};s.$store.commit("setBreadList",i)}},bd86:function(t,e,s){"use strict";s.d(e,"a",(function(){return n}));var i=s("85f2"),a=s.n(i);function n(t,e,s){return e in t?a()(t,e,{value:s,enumerable:!0,configurable:!0,writable:!0}):t[e]=s,t}},c0b8:function(t,e,s){"use strict";var i=s("73bf"),a=s.n(i);a.a},d2a0:function(t,e,s){},ff58:function(t,e,s){"use strict";var i=s("d2a0"),a=s.n(i);a.a}}]);
//# sourceMappingURL=chunk-4002930a.37739513.js.map